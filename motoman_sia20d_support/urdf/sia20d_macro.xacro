<?xml version="1.0" ?>
<robot xmlns:xacro="http://ros.org/wiki/xacro">
    <xacro:macro name="motoman_sia20d" params="prefix">
        <xacro:include filename="$(find motoman_resources)/urdf/common_materials.xacro"/>

        <!-- link list -->
        <link name="${prefix}base_link">
            <visual>
                <geometry>
                    <mesh filename="package://motoman_sia20d_support/meshes/sia20d/visual/base_link.stl" />
                </geometry>
                <xacro:material_yaskawa_blue/>
            </visual>
            <collision>
                <geometry>
                    <mesh filename="package://motoman_sia20d_support/meshes/sia20d/collision/base_link.stl" />
                </geometry>
                <xacro:material_yaskawa_yellow/>
            </collision>
        </link>
        <link name="${prefix}link_1">
            <visual>
                <origin rpy="0 0 3.1416" xyz="0 0 0"/>
                <geometry>
                    <mesh filename="package://motoman_sia20d_support/meshes/sia20d/visual/link_1.stl"/>
                </geometry>
                <xacro:material_yaskawa_white/>
            </visual>
            <collision>
                <origin rpy="0 0 3.1416" xyz="0 0 0"/>
                <geometry>
                    <mesh filename="package://motoman_sia20d_support/meshes/sia20d/collision/link_1.stl" />
                </geometry>
                <xacro:material_yaskawa_yellow/>
            </collision>
        </link>
        <link name="${prefix}link_2">
            <visual>
                <origin rpy="1.57 3.1416 3.1416" xyz="0 0 0"/>
                <geometry>
                    <mesh filename="package://motoman_sia20d_support/meshes/sia20d/visual/link_2.stl"/>
                </geometry>
                <xacro:material_yaskawa_blue/>
            </visual>
            <collision>
                <origin rpy="1.57 3.1416 3.1416" xyz="0 0 0"/>
                <geometry>
                    <mesh filename="package://motoman_sia20d_support/meshes/sia20d/collision/link_2.stl"/>
                </geometry>
                <xacro:material_yaskawa_yellow/>
            </collision>
        </link>
        <link name="${prefix}link_3">
            <visual>
                <origin rpy="0 0 0" xyz="0 0 0"/>
                <geometry>
                    <mesh filename="package://motoman_sia20d_support/meshes/sia20d/visual/link_3.stl"/>
                </geometry>
                <xacro:material_yaskawa_white/>
            </visual>
            <collision>
                <origin rpy="0 0 0" xyz="0 0 0"/>
                <geometry>
                    <mesh filename="package://motoman_sia20d_support/meshes/sia20d/collision/link_3.stl"/>
                </geometry>
                <xacro:material_yaskawa_yellow/>
            </collision>
        </link>
        <link name="${prefix}link_4">
            <visual>
                <origin rpy="1.57 -3.1415 3.1416" xyz="0 0 0"/>
                <geometry>
                    <mesh filename="package://motoman_sia20d_support/meshes/sia20d/visual/link_4.stl"/>
                </geometry>
                <xacro:material_yaskawa_blue/>
            </visual>
            <collision>
                <origin rpy="1.57 -3.1415 3.1416" xyz="0 0 0"/>
                <geometry>
                    <mesh filename="package://motoman_sia20d_support/meshes/sia20d/collision/link_4.stl"/>
                </geometry>
                <xacro:material_yaskawa_yellow/>
            </collision>
        </link>
        <link name="${prefix}link_5">
            <visual>
                <origin rpy="0 0 0" xyz="0 0 0"/>
                <geometry>
                    <mesh filename="package://motoman_sia20d_support/meshes/sia20d/visual/link_5.stl"/>
                </geometry>
                <xacro:material_yaskawa_white/>
            </visual>
            <collision>
                <origin rpy="0 0 0" xyz="0 0 0"/>
                <geometry>
                    <mesh filename="package://motoman_sia20d_support/meshes/sia20d/collision/link_5.stl"/>
                </geometry>
                <xacro:material_yaskawa_yellow/>
            </collision>
        </link>
        <link name="${prefix}link_6">
            <visual>
                <origin rpy="-1.57 0 0" xyz="0 0 0"/>
                <geometry>
                    <mesh filename="package://motoman_sia20d_support/meshes/sia20d/visual/link_6.stl"/>
                </geometry>
                <xacro:material_yaskawa_blue/>
            </visual>
            <collision>
                <origin rpy="-1.57 0 0" xyz="0 0 0"/>
                <geometry>
                    <mesh filename="package://motoman_sia20d_support/meshes/sia20d/collision/link_6.stl"/>
                </geometry>
                <xacro:material_yaskawa_yellow/>
            </collision>
        </link>
        <link name="${prefix}link_7">
            <visual>
                <geometry>
                    <mesh filename="package://motoman_sia20d_support/meshes/sia20d/visual/link_7.stl" />
                </geometry>
                <xacro:material_yaskawa_white/>
            </visual>
            <collision>
                <geometry>
                    <mesh filename="package://motoman_sia20d_support/meshes/sia20d/collision/link_7.stl" />
                </geometry>
                <xacro:material_yaskawa_yellow/>
            </collision>
        </link>
        <!-- end of link list -->
        <!-- joint list -->
        <joint name="${prefix}joint_1" type="revolute">
            <parent link="${prefix}base_link"/>
            <child link="${prefix}link_1"/>
            <origin xyz="0 0 0.41" rpy="0 0 0"/>
            <axis xyz="0 0 1" />
            <limit lower="-3.1415" upper="3.1415" effort="100" velocity="2.2689" />
        </joint>
        <joint name="${prefix}joint_2" type="revolute">
            <parent link="${prefix}link_1"/>
            <child link="${prefix}link_2"/>
            <origin xyz="0 0 0" rpy="0 0 0"/>
            <axis xyz="0 1 0" />
            <limit lower="-1.9198" upper="1.9198" effort="100" velocity="2.2689" />
        </joint>
        <joint name="${prefix}joint_3" type="revolute">
            <parent link="${prefix}link_2"/>
            <child link="${prefix}link_3"/>
            <origin xyz="0 0 0.49" rpy="0 0 0"/>
            <axis xyz="0 0 1" />
            <limit lower="-2.9670" upper="2.9670" effort="100" velocity="2.9670" />
        </joint>
        <joint name="${prefix}joint_4" type="revolute">
            <parent link="${prefix}link_3"/>
            <child link="${prefix}link_4"/>
            <origin xyz="0 0 0" rpy="0 0 0"/>
            <axis xyz="0 -1 0" />
            <limit lower="-2.2689" upper="2.2689" effort="100" velocity="2.9670" />
        </joint>
        <joint name="${prefix}joint_5" type="revolute">
            <parent link="${prefix}link_4"/>
            <child link="${prefix}link_5"/>
            <origin xyz="0 0 0.420" rpy="0 0 0"/>
            <axis xyz="0 0 -1" />
            <limit lower="-3.1415" upper="3.1415" effort="100" velocity="3.4906" />
        </joint>
        <joint name="${prefix}joint_6" type="revolute">
            <parent link="${prefix}link_5"/>
            <child link="${prefix}link_6"/>
            <origin xyz="0 0 0" rpy="0 0 0"/>
            <axis xyz="0 -1 0" />
            <limit lower="-1.9198" upper="1.9198" effort="100" velocity="3.4906" />
        </joint>
        <joint name="${prefix}joint_7" type="revolute">
            <parent link="${prefix}link_6"/>
            <child link="${prefix}link_7"/>
            <origin xyz="0 0 0.18" rpy="0 0 0"/>
            <axis xyz="0 0 -1" />
            <limit lower="-3.1415" upper="3.1415" effort="100" velocity="6.9813" />
        </joint>
        <!-- end of joint list -->

        <!-- ROS base_link (via base_link) to Motoman Robot (not Base) Frame transform -->
        <link name="${prefix}base" />
        <joint name="${prefix}base_link-base" type="fixed">
            <origin xyz="0 0 0.410" rpy="0 0 0"/>
            <parent link="${prefix}base_link"/>
            <child link="${prefix}base"/>
        </joint>
        
    <!-- ROS-Industrial 'flange' frame: attachment point for EEF models -->
        <link name="${prefix}flange"/>
        <joint name="${prefix}joint_7-flange" type="fixed">
            <origin xyz="0 0 0" rpy="0 -1.57079632679 0"/>
            <parent link="${prefix}link_7"/>
            <child link="${prefix}flange"/>
        </joint>

        <!-- ROS-Industrial 'tool0' frame: all-zeros tool frame -->
        <link name="${prefix}tool0"/>
        <joint name="${prefix}flange-tool0" type="fixed">
            <origin xyz="0 0 0 " rpy="0 -1.57079632679 3.1415296"/>
            <parent link="${prefix}flange"/>
            <child link="${prefix}tool0"/>
        </joint>

    </xacro:macro>
</robot>
